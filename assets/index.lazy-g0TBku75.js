import{j as e,c,L as m,f as u,o as x,r as f,u as j,C as p,a as d,b as h}from"./index-AVv2ipGC.js";const b=({children:r,className:s,...a})=>e.jsx("button",{...a,className:c("flex w-full items-center justify-center rounded-md border border-dashed border-sky-500 bg-sky-500/20 p-4 font-medium text-sky-500 backdrop-blur-md transition-transform active:scale-[0.98]",s),children:r}),y=({name:r,tel:s,visits:a,id:l})=>{const t=a.length?a.toSorted((n,o)=>new Date(o.date).getTime()-new Date(n.date).getTime())[0].date:null;return e.jsx("li",{children:e.jsxs(m,{to:l,className:"-mx-4 flex items-center justify-between rounded-md p-4 hover:bg-accent",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg",children:r}),e.jsx("p",{className:"text-neutral-500",children:s})]}),t?e.jsx("p",{children:u(t,"dd.MM.yyyy")}):null]})})},C=x(()=>{const[r,s]=f.useState(!1),{t:a}=j(),l=()=>d.sortBy==="name"?d.filteredCustomers.toSorted((t,n)=>t.name.localeCompare(n.name)):d.filteredCustomers.toSorted((t,n)=>{var o,i;return new Date((o=t.visits[0])==null?void 0:o.date).getTime()-new Date((i=n.visits[0])==null?void 0:i.date).getTime()});return e.jsxs("div",{className:"flex h-full flex-col justify-between",children:[e.jsx("ul",{className:"flex-1",children:l().map(t=>e.jsx(y,{...t},t.id))}),e.jsx("div",{className:"sticky bottom-0 left-0 w-full p-4",children:e.jsx(b,{onClick:()=>s(!0),children:a("Add customer")})}),e.jsx(p,{onClose:()=>s(!1),isOpen:r})]})}),w=h("/")({component:C});export{w as Route};
