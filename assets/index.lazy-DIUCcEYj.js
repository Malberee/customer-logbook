import{j as e,c as i,L as c,f as m,o as u,r as x,u as f,C as p,a as d,b as j}from"./index-CRklgf-Y.js";const h=({children:r,className:s,...a})=>e.jsx("button",{...a,className:i("flex w-full items-center justify-center rounded-md border border-dashed border-sky-500 bg-sky-500/20 p-4 font-medium text-sky-500 backdrop-blur-md transition-transform active:scale-[0.98]",s),children:r}),b=({name:r,tel:s,visits:a,id:l})=>{const t=a.length?a.toSorted((n,o)=>new Date(o.date).getTime()-new Date(n.date).getTime())[0].date:null;return e.jsx("li",{children:e.jsxs(c,{to:l,className:"-mx-4 flex items-center justify-between rounded-md p-4 hover:bg-accent",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg",children:r}),e.jsx("p",{className:"text-neutral-500",children:s})]}),t?e.jsx("p",{children:m(t,"dd.MM.yyyy")}):null]})})},y=u(()=>{const[r,s]=x.useState(!1),{t:a}=f(),l=()=>d.sortBy==="name"?d.filteredCustomers.toSorted((t,n)=>t.name.localeCompare(n.name)):d.filteredCustomers.toSorted((t,n)=>Math.max(...t.visits.map(o=>new Date(o.date).getTime()))-Math.max(...n.visits.map(o=>new Date(o.date).getTime())));return e.jsxs("div",{className:"flex h-full flex-col justify-between",children:[e.jsx("ul",{className:"flex-1",children:l().map(t=>e.jsx(b,{...t},t.id))}),e.jsx("div",{className:"sticky bottom-0 left-0 w-full p-4",children:e.jsx(h,{onClick:()=>s(!0),children:a("Add customer")})}),e.jsx(p,{onClose:()=>s(!1),isOpen:r})]})}),g=j("/")({component:y});export{g as Route};
